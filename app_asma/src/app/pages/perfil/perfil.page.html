<ion-header class="ion-no-border profile-header">
  
    <ion-title class="profile-title">
      <div class="title-text">Meu Perfil</div>
    </ion-title>
  
</ion-header>

<ion-content scrollY="false">
  <div class="profile-block"></div>
  <div class="profile-background">

    <div class="profile-forms"></div>
        <ion-avatar class="profile-img">
         <ion-img [src]="user.imagem"  *ngIf="(userDefined)&&(user.imagem!== '');else semImagem" ></ion-img>
         <ng-template #semImagem>
         <ion-img src="../../../assets/images/robot_icon.png"></ion-img>
        </ng-template>
       </ion-avatar> 
       <div class="profile-username">
       <ion-label class="profile-username"  *ngIf="userDefined">{{user.nome}} {{user.sobrenome}}</ion-label>
       </div>
    


    <br>
    <br>
    <ion-card class="achievements-card">
    <div  class="achievements-title">
    
    <ion-text ><ion-icon name="reorder-two-outline"></ion-icon>
      CONQUISTAS  <ion-icon name="reorder-two-outline"></ion-icon>
    </ion-text>
   
    </div>
     
      <ion-slides [options]="slideOpts" >
          
        <ion-slide  *ngFor="let milestone of milestones">
          <div data-swiper-parallax-y="70%">
            <ion-img src="../../../assets/images/achievements/star_achievement_notyet.png" class= "achievement-img" size="large" *ngIf="milestone.level==0" ></ion-img>
            <ion-img src="../../../assets/images/achievements/star_achievement_bronze.png" class= "achievement-img" size="large" *ngIf="milestone.level==1" ></ion-img>
            <ion-img src="../../../assets/images/achievements/star_achievement_silver.png" class= "achievement-img" size="large" *ngIf="milestone.level==2" ></ion-img>
            <ion-img src="../../../assets/images/achievements/star_achievement.svg" class= "achievement-img" size="large" *ngIf="milestone.level==3" ></ion-img>
            <ion-text class="achievement-name">
              {{milestone.nome}}
            </ion-text>           
            <br>
            <ion-button fill="clear" class="get-info-button" (click)="openPopup(milestone)">
            <ion-text class="achievement-subtitle">
              Detalhes <ion-icon name="chevron-forward" class="get-info-arrow"></ion-icon>
            </ion-text>    
            </ion-button>
            </div>
        </ion-slide>
          
         
      </ion-slides>
    </ion-card>
  
  </div>
  
  <ion-fab horizontal="end" vertical="bottom">
    <ion-fab-button class="float-btn-profile">
      <ion-icon md="caret-up" ios="chevron-up-circle-outline"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="top">
      <ion-fab-button (click)="logout()" data-desc="Logout">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-fab-button>
      <ion-fab-button routerLink="./editar-perfil" data-desc="Editar Perfil">
        <ion-icon name="create-outline"></ion-icon>
      </ion-fab-button>
      
    </ion-fab-list>
  </ion-fab>

</ion-content>
<style>
  ion-slides {
    height: 100%;
  }

  .swiper-slide {
    display: block;
  }

  .swiper-slide h2 {
    margin-top: 2.8rem;
  }

  .swiper-slide img {
    max-height: 50%;
    max-width: 80%;
    margin: 60px 0 40px;
    pointer-events: none;
  }

  b {
    font-weight: 500;
  }

  p {
    padding: 0 40px;
    font-size: 14px;
    line-height: 1.5;
    color: var(--ion-color-step-600, #60646b);
  }

  p b {
    color: var(--ion-text-color, #000000);
  }
</style>